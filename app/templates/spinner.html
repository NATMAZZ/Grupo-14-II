<script>
(function() {

  const loader = document.getElementById("page-loader");

  function showLoader(){
    if(!loader) return;
    loader.classList.remove("hidden");
  }

  function hideLoader(){
    if(!loader) return;
    loader.classList.add("hidden");
  }

  /* -------- MOSTRAR AL NAVEGAR -------- */

  document.addEventListener("click", function(e){
    const link = e.target.closest("a");

    if(!link) return;

    // ignorar anclas internas
    const href = link.getAttribute("href");
    if(!href || href.startsWith("#")) return;

    // ignorar descargas o nuevas pesta√±as
    if(link.target === "_blank") return;

    showLoader();
  });

  /* -------- OCULTAR CUANDO CARGA -------- */

  window.addEventListener("load", function(){
    hideLoader();
  });

})();
</script>


{% load static %}

<div id="page-loader" class="loader" aria-hidden="true">
  <div class="loader-inner">
    <img src="{% static 'img/dona.png' %}" alt="Cargando..." class="donut-spin">
    <p class="loader-text">Cargando...</p>
  </div>
</div>